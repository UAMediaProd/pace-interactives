<template>
<div class="max-w-[1100px] mx-auto">

<div class="flex w-full items-center mb-4">
    <div class="w-1/2">
        <svg id="Layer_2" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 550 850" width="100%">

<g>
  <line class="st2" x1="474.3" y1="355.1" x2="474.3" y2="399.3"/>
  <polygon class="st3" points="464.3 396.4 474.3 413.6 484.3 396.4 464.3 396.4"/>
</g>
<circle cx="249.5" cy="49.3" r="6.2"/>
<circle cx="275" cy="49.3" r="6.2"/>
<circle cx="300.5" cy="49.3" r="6.2"/>
<g id="User" @click="showDefinition('User')">
  <rect class="st0" x="63.6" y="22.2" width="170.4" height="54.4"/>
  <rect class="st0" x="316" y="22.2" width="170.4" height="54.4"/>
  <text class="st4" transform="translate(128 56.3)"><tspan x="0" y="0">User</tspan></text>
  <text class="st4" transform="translate(380.3 56.3)"><tspan x="0" y="0">User</tspan></text>
</g>
<g>
  <line class="st2" x1="75.7" y1="355.6" x2="75.7" y2="399.8"/>
  <polygon class="st3" points="65.7 396.9 75.7 414.2 85.7 396.9 65.7 396.9"/>
</g>
<g>
  <line class="st2" x1="222" y1="355.6" x2="222" y2="399.8"/>
  <polygon class="st3" points="212 396.9 222 414.2 231.9 396.9 212 396.9"/>
</g>
<circle cx="123.4" cy="232.3" r="6.2"/>
<circle cx="148.8" cy="232.3" r="6.2"/>
<circle cx="174.3" cy="232.3" r="6.2"/>
<g>
  <line class="st2" x1="328" y1="355.6" x2="328" y2="399.8"/>
  <polygon class="st3" points="318.1 396.9 328 414.2 338 396.9 318.1 396.9"/>
</g>
<circle cx="375.7" cy="232.3" r="6.2"/>
<circle cx="401.2" cy="232.3" r="6.2"/>
<circle cx="426.6" cy="232.3" r="6.2"/>
<g id="Application" @click="showDefinition('Application')">
  <rect class="st0" x="49.6" y="108.9" width="52.2" height="246.7"/>
  <rect class="st0" x="195.9" y="108.9" width="52.2" height="246.7"/>
  
  <rect class="st0" x="302" y="108.9" width="52.2" height="246.7"/>
  <rect class="st0" x="448.2" y="108.9" width="52.2" height="246.7"/>
  <text class="st4" transform="translate(335 285.9) rotate(-90)"><tspan x="0" y="0">Application</tspan></text>
  <text class="st4" transform="translate(481.2 285.4) rotate(-90)"><tspan x="0" y="0">Application</tspan></text>
  <text class="st4" transform="translate(82.6 285.9) rotate(-90)"><tspan x="0" y="0">Application</tspan></text>
  <text class="st4" transform="translate(228.9 285.9) rotate(-90)"><tspan x="0" y="0">Application</tspan></text>
</g>
<g>
  <line class="st2" x1="148.8" y1="481.4" x2="148.8" y2="516.6"/>
  <polygon class="st3" points="138.9 513.6 148.8 530.9 158.8 513.6 138.9 513.6"/>
</g>
<g>
  <line class="st2" x1="148.8" y1="598.1" x2="148.8" y2="633.3"/>
  <polygon class="st3" points="138.9 630.4 148.8 647.7 158.8 630.4 138.9 630.4"/>
</g>
<g>
  <line class="st2" x1="401.2" y1="598.1" x2="401.2" y2="633.3"/>
  <polygon class="st3" points="391.2 630.4 401.2 647.7 411.1 630.4 391.2 630.4"/>
</g>
<g>
  <line class="st2" x1="275" y1="713.5" x2="275" y2="748.7"/>
  <polygon class="st3" points="265 745.8 275 763.1 285 745.8 265 745.8"/>
</g>
<g id="Hypervisor" @click="showDefinition('Hypervisor')">
  <rect class="st0" x="49.6" y="647.7" width="450.7" height="65.9"/>
  <text class="st4" transform="translate(224.9 687.5)"><tspan x="0" y="0">Hypervisor</tspan></text>
</g>
<g id="Hardware" @click="showDefinition('Hardware')">
  <rect class="st0" x="49.6" y="763.1" width="450.7" height="65.9"/>
  <text class="st4" transform="translate(229.6 802.9)"><tspan x="0" y="0">Hardware</tspan></text>
</g>
<path class="st1" d="M49.6,108.5v-.2c0-8.5,7.1-15.4,15.8-15.4h66.4c6.7,0,12.6-4.1,14.9-10.2l2.1-5.7"/>
<path class="st1" d="M248,108.4h0c0-8.7-7.1-15.6-15.8-15.6h-66.4c-6.7,0-12.6-4.1-14.9-10.2l-2.1-5.7"/>
<g id="OperatingSystem" @click="showDefinition('OperatingSystem')">
  <rect class="st0" x="49.6" y="414.2" width="198.4" height="67.2"/>
  <text class="st4" transform="translate(63.7 454.7)"><tspan x="0" y="0">Operating System</tspan></text>
  <rect class="st0" x="302" y="414.2" width="198.4" height="67.2"/>
  <text class="st4" transform="translate(316 454.7)"><tspan x="0" y="0">Operating System</tspan></text>
</g>
<g>
  <line class="st2" x1="401.2" y1="481.4" x2="401.2" y2="516.6"/>
  <polygon class="st3" points="391.2 513.6 401.2 530.9 411.1 513.6 391.2 513.6"/>
</g>
<path class="st1" d="M302,108.5v-.2c0-8.5,7.1-15.4,15.8-15.4h66.4c6.7,0,12.6-4.1,14.9-10.2l2.1-5.7"/>
<path class="st1" d="M500.4,108.4h0c0-8.7-7.1-15.6-15.8-15.6h-66.4c-6.7,0-12.6-4.1-14.9-10.2l-2.1-5.7"/>
<g id="VirtualMachine" @click="showDefinition('VirtualMachine')">
  <rect class="st0" x="49.6" y="530.9" width="198.4" height="67.2"/>
  <text class="st4" transform="translate(75.9 571.5)"><tspan x="0" y="0">Virtual Machine</tspan></text>
  <rect class="st0" x="302" y="530.9" width="198.4" height="67.2"/>
  <text class="st4" transform="translate(328.2 571.5)"><tspan x="0" y="0">Virtual Machine</tspan></text>
</g>
</svg>
    </div>
    <div class="w-full p-4">
        <!-- Definitions to go here -->
         <div class="shadow-md bg-white rounded-lg p-4 min-h-[100px]">
            <h3 v-if="selectedTitle" class="text-xl font-bold mb-2">{{ selectedTitle }}</h3>
            <p v-if="selectedDefinition">{{ selectedDefinition }}</p>
            <p v-else>Click on an element in the diagram to see its definition.</p>
            </div>

    </div>
</div>

</div>

</template>

<script setup>
import { ref } from 'vue';

const selectedDefinition = ref('');
const selectedTitle = ref('');

const definitions = {
  "User": "A person who interacts with applications running on the system. Each user has their own profile, permissions, and can access multiple applications simultaneously.",
  "Application": "Software programs that users interact with to perform specific tasks. Applications run within the operating system environment and might include word processors, web browsers, or specialised tools.",
  "VirtualMachine": "A software implementation of a computer that runs an operating system and applications. Virtual machines operate as isolated environments, allowing multiple operating systems to run simultaneously on the same physical hardware.",
  "Hypervisor": "Software that creates, manages, and monitors virtual machines. The hypervisor allocates physical resources like CPU, memory, and storage to each virtual machine, ensuring they operate independently.",
  "Hardware": "The physical components of the computer system, including processors, memory, storage devices, and networking equipment. All software layers ultimately run on this physical infrastructure.",
  "OperatingSystem": "Software that manages computer hardware and provides services for applications. It handles tasks like memory management, file access, and user interfaces, creating a stable environment for applications to run."
};

const showDefinition = (id) => {
  selectedDefinition.value = definitions[id] || 'Definition not found.';
  selectedTitle.value = id.replace(/([A-Z])/g, ' $1').trim();
};
</script>

<style scoped>
 .st0, .st1, .st2 {
        fill: #ffffff;
        stroke: #231f20;
      }

      .st0, .st2 {
        stroke-miterlimit: 10;
      }

      .st3, .st4 {
        fill: #231f20;
      }

      .st1 {
        stroke-linejoin: round;
      }

      .st2 {
        stroke-width: 2px;
      }

      .st4 {
        font-family: MADEEvolveSans-Bold, 'MADE Evolve Sans';
        font-size: 22.2px;
        font-weight: 700;
      }

      #User, #Application, #OperatingSystem, #VirtualMachine, #Hypervisor, #Hardware {
        cursor: default;
        transition: all 0.3s ease;
        
      }

      #User:hover, #Application:hover, #OperatingSystem:hover, #VirtualMachine:hover, #Hypervisor:hover, #Hardware:hover {
        cursor: pointer;
        opacity: 0.5;
      }
</style>